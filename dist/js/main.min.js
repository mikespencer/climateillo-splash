!function(t){"use strict";var i=200,n={init:function(){this.$signupBtn=t(".signup-btn"),this.$cover=t(".signup-cover"),this.$coverCloseBtn=this.$cover.find(".close"),this.$form=t(".signup-form"),this.$emailInput=this.$form.find("[type='email']"),this.$submitBtn=t(".signup-form-submit"),this.bindEvents()},bindEvents:function(){var t=this;this.$signupBtn.on("click",function(i){i.preventDefault(),t.showOverlay()}),this.$coverCloseBtn.on("click",function(i){i.preventDefault(),t.hideOverlay()}),this.$form.on("submit",function(){return t.submitHandler(),!1})},showOverlay:function(){var t=this;this.$cover.removeClass("success").fadeIn({duration:i,complete:function(){t.$emailInput.focus()}})},hideOverlay:function(){this.$cover.fadeOut({duration:i})},submitHandler:function(){if(!this.active){var i=this,n=this.$emailInput.val();if(this.validateEmail(n)){var s={};s[this.$emailInput.attr("name")]=this.$emailInput.val(),this.$emailInput.removeClass("error"),t.ajax({url:this.$form.attr("action")+"?callback=?",method:"POST",data:s,crossDomain:!0,dataType:"jsonp"}),this.submitSuccess()}else this.$emailInput.addClass("error").one("input",function(){i.$emailInput.removeClass("error")})}},submitSuccess:function(){var t=this,i=this.$submitBtn.val();this.$submitBtn.val("Sending..."),this.active=!0,setTimeout(function(){t.active=!1,t.$cover.addClass("success"),t.$emailInput.val(""),t.$submitBtn.val(i)},1e3)},validateEmail:function(t){return/^.+@.+\..+$/.test(t)}};t(function(){n.init()})}(jQuery);